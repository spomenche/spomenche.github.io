import{a as D}from"./chunk-AMXR322S.js";import{a as A}from"./chunk-OERMI5KI.js";import{$ as u,A as h,Ca as z,D as a,F as b,Fa as I,G as w,L as g,N as _,P as E,Q as S,R as C,S as i,T as n,U as k,X as P,Z as x,d as O,ea as o,fa as v,ga as l,ma as M,oa as f,p,q as s,qa as y,wa as q,xa as F}from"./chunk-UFBWADC4.js";var T=()=>["/checkout"],Q=()=>["/shop"],V=(r,e)=>e.product.id;function j(r,e){if(r&1&&k(0,"img",16),r&2){let t=u().$implicit;C("src",t.product.images[0],h)("alt",t.product.name)}}function $(r,e){r&1&&(i(0,"div",17)(1,"span"),o(2,"\u041D\u044F\u043C\u0430 \u0441\u043D\u0438\u043C\u043A\u0430"),n()())}function L(r,e){if(r&1&&(i(0,"p",20),o(1),n()),r&2){let t=u().$implicit;a(),v(t.product.nameEn)}}function N(r,e){if(r&1){let t=P();i(0,"div",6)(1,"div",15),g(2,j,1,2,"img",16)(3,$,3,0,"div",17),n(),i(4,"div",18)(5,"h3",19),o(6),n(),g(7,L,2,1,"p",20),i(8,"p",21),o(9),f(10,"number"),n()(),i(11,"div",22)(12,"div",23)(13,"button",24),x("click",function(){let m=p(t).$implicit,d=u(2);return s(d.decreaseQuantity(m.product.id))}),o(14," - "),n(),i(15,"span",25),o(16),n(),i(17,"button",26),x("click",function(){let m=p(t).$implicit,d=u(2);return s(d.increaseQuantity(m.product.id))}),o(18," + "),n()()(),i(19,"div",27)(20,"p",28),o(21),f(22,"number"),n()(),i(23,"div",29)(24,"button",30),x("click",function(){let m=p(t).$implicit,d=u(2);return s(d.removeItem(m.product.id))}),o(25," \u2715 "),n()()()}if(r&2){let t=e.$implicit,c=u(2);a(2),_(t.product.images.length>0?2:3),a(4),v(t.product.name),a(),_(t.product.nameEn?7:-1),a(2),l("",y(10,7,t.product.price,"1.2-2")," \u043B\u0432"),a(4),C("disabled",t.quantity<=1),a(3),v(t.quantity),a(5),l("",y(22,10,c.getItemTotal(t),"1.2-2")," \u043B\u0432")}}function R(r,e){if(r&1){let t=P();i(0,"div",3)(1,"div",5),E(2,N,26,13,"div",6,V),n(),i(4,"div",7)(5,"div",8)(6,"h3",9),o(7,"\u041E\u0431\u043E\u0431\u0449\u0435\u043D\u0438\u0435"),n(),i(8,"div",10)(9,"span"),o(10),n(),i(11,"span"),o(12),f(13,"number"),n()(),i(14,"div",11)(15,"span")(16,"strong"),o(17,"\u041E\u0431\u0449\u043E:"),n()(),i(18,"span")(19,"strong"),o(20),f(21,"number"),n()()(),i(22,"div",12)(23,"app-custom-button",13),x("clicked",function(){p(t);let m=u();return s(m.clearCart())}),o(24," \u0418\u0437\u0447\u0438\u0441\u0442\u0438 \u043A\u043E\u0448\u043D\u0438\u0446\u0430\u0442\u0430 "),n(),i(25,"app-custom-button",14),o(26," \u041F\u0440\u043E\u0434\u044A\u043B\u0436\u0438 \u043A\u044A\u043C \u043F\u043B\u0430\u0449\u0430\u043D\u0435 "),n()()()()()}if(r&2){let t=u();a(2),S(t.cart.items),a(8),l("\u041F\u0440\u043E\u0434\u0443\u043A\u0442\u0438 (",t.cart.totalItems,"):"),a(2),l("",y(13,4,t.cart.totalPrice,"1.2-2")," \u043B\u0432"),a(8),l("",y(21,7,t.cart.totalPrice,"1.2-2")," \u043B\u0432"),a(5),C("routerLink",M(10,T))}}function U(r,e){r&1&&(i(0,"div",4)(1,"div",31)(2,"h2"),o(3,"\u041A\u043E\u0448\u043D\u0438\u0446\u0430\u0442\u0430 \u0435 \u043F\u0440\u0430\u0437\u043D\u0430"),n(),i(4,"p"),o(5,"\u0414\u043E\u0431\u0430\u0432\u0435\u0442\u0435 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0438 \u0432 \u043A\u043E\u0448\u043D\u0438\u0446\u0430\u0442\u0430, \u0437\u0430 \u0434\u0430 \u043F\u0440\u043E\u0434\u044A\u043B\u0436\u0438\u0442\u0435 \u0441 \u043F\u043E\u0440\u044A\u0447\u043A\u0430\u0442\u0430."),n(),i(6,"app-custom-button",14),o(7," \u041A\u044A\u043C \u043C\u0430\u0433\u0430\u0437\u0438\u043D\u0430 "),n()()()),r&2&&(a(6),C("routerLink",M(1,Q)))}var B=class r{constructor(e){this.cartService=e}cart=null;loading$=new O(!1);ngOnInit(){this.cartService.cart$.subscribe({next:e=>{this.cart=e},error:e=>{console.error("Error loading cart:",e)}})}updateQuantity(e,t){this.cartService.updateQuantity(e,t)}removeItem(e){this.cartService.removeFromCart(e)}clearCart(){this.cartService.clearCart()}getItemTotal(e){return e.product.price*e.quantity}increaseQuantity(e){let t=this.cartService.getProductQuantity(e);this.updateQuantity(e,t+1)}decreaseQuantity(e){let t=this.cartService.getProductQuantity(e);t>1&&this.updateQuantity(e,t-1)}static \u0275fac=function(t){return new(t||r)(b(D))};static \u0275cmp=w({type:r,selectors:[["app-cart"]],decls:6,vars:2,consts:[[1,"cart"],[1,"container"],[1,"page-title","no-cursor"],[1,"cart-content"],[1,"empty-cart"],[1,"cart-items"],[1,"cart-item"],[1,"cart-summary"],[1,"summary-content"],[1,"no-cursor"],[1,"summary-row"],[1,"summary-row","total-row"],[1,"summary-actions"],["variant","secondary","size","medium",3,"clicked"],["variant","primary","size","large",3,"routerLink"],[1,"item-image"],[1,"product-image",3,"src","alt"],[1,"no-image"],[1,"item-details"],[1,"item-title"],[1,"item-subtitle"],[1,"item-price"],[1,"item-quantity"],[1,"quantity-controls"],[1,"quantity-btn",3,"click","disabled"],[1,"quantity-value"],[1,"quantity-btn",3,"click"],[1,"item-total"],[1,"total-price"],[1,"item-actions"],["title","\u041F\u0440\u0435\u043C\u0430\u0445\u043D\u0438 \u043E\u0442 \u043A\u043E\u0448\u043D\u0438\u0446\u0430\u0442\u0430",1,"remove-btn",3,"click"],[1,"empty-cart-content"]],template:function(t,c){t&1&&(i(0,"div",0)(1,"div",1)(2,"h1",2),o(3,"\u041A\u043E\u0448\u043D\u0438\u0446\u0430"),n(),g(4,R,27,11,"div",3),g(5,U,8,2,"div",4),n()()),t&2&&(a(4),_(c.cart&&c.cart.items.length>0?4:-1),a(),_(c.cart&&c.cart.items.length===0?5:-1))},dependencies:[F,I,z,A,q],styles:[".cart[_ngcontent-%COMP%]{width:100%;padding:2rem 0;min-height:60vh}.page-title[_ngcontent-%COMP%]{font-family:Pacifico,cursive;font-size:2.5rem;color:#e88ca1;text-align:center;margin-bottom:4rem}@media(max-width:768px){.page-title[_ngcontent-%COMP%]{font-size:2rem}}.cart-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 350px;gap:4rem}@media(max-width:768px){.cart-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:2rem}}.cart-items[_ngcontent-%COMP%]{background-color:#fff;border-radius:16px;box-shadow:0 2px 4px #0000000d;overflow:hidden}.cart-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:100px 1fr 120px 100px 40px;gap:1.5rem;padding:1.5rem;border-bottom:1px solid #fff5e9;align-items:center}.cart-item[_ngcontent-%COMP%]:last-child{border-bottom:none}@media(max-width:768px){.cart-item[_ngcontent-%COMP%]{grid-template-columns:80px 1fr;grid-template-rows:auto auto;gap:1rem;padding:1rem}.cart-item[_ngcontent-%COMP%]   .item-quantity[_ngcontent-%COMP%], .cart-item[_ngcontent-%COMP%]   .item-total[_ngcontent-%COMP%], .cart-item[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{grid-column:2}}@media(max-width:480px){.cart-item[_ngcontent-%COMP%]{grid-template-columns:60px 1fr;padding:.5rem}}.item-image[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover;border-radius:12px}@media(max-width:480px){.item-image[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]{width:60px;height:60px}}.item-image[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{width:80px;height:80px;background-color:#fff5e9;border-radius:12px;display:flex;align-items:center;justify-content:center;color:#666;font-size:.875rem}@media(max-width:480px){.item-image[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{width:60px;height:60px}}.item-details[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#e88ca1;margin-bottom:.25rem}@media(max-width:480px){.item-details[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{font-size:1rem}}.item-details[_ngcontent-%COMP%]   .item-subtitle[_ngcontent-%COMP%]{font-size:.875rem;color:#666;margin-bottom:.25rem}.item-details[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{font-size:1rem;color:#333;font-weight:500}.item-quantity[_ngcontent-%COMP%]   .quantity-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}@media(max-width:768px){.item-quantity[_ngcontent-%COMP%]   .quantity-controls[_ngcontent-%COMP%]{justify-content:flex-start}}.item-quantity[_ngcontent-%COMP%]   .quantity-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:1px solid #fff5e9;background-color:#fff;border-radius:8px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;font-size:1.125rem;color:#e88ca1}.item-quantity[_ngcontent-%COMP%]   .quantity-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e88ca1;color:#fff;border-color:#e88ca1}.item-quantity[_ngcontent-%COMP%]   .quantity-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.item-quantity[_ngcontent-%COMP%]   .quantity-value[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;min-width:30px;text-align:center}.item-total[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#e88ca1;text-align:right}@media(max-width:768px){.item-total[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]{text-align:left}}.item-actions[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;background-color:transparent;border-radius:8px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;font-size:1.125rem;color:#e74c3c}.item-actions[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]:hover{background-color:#e74c3c;color:#fff}.cart-summary[_ngcontent-%COMP%]{background-color:#fff;border-radius:16px;box-shadow:0 2px 4px #0000000d;height:fit-content;position:sticky;top:2rem}@media(max-width:768px){.cart-summary[_ngcontent-%COMP%]{position:static}}.summary-content[_ngcontent-%COMP%]{padding:2rem}.summary-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;color:#e88ca1;margin-bottom:1.5rem;text-align:center}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;font-size:1rem;color:#333}.summary-row.total-row[_ngcontent-%COMP%]{border-top:2px solid #fff5e9;padding-top:1rem;margin-top:1.5rem;font-size:1.125rem}.summary-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-top:2rem}.empty-cart[_ngcontent-%COMP%]{text-align:center;padding:4rem 0}.empty-cart[_ngcontent-%COMP%]   .empty-cart-content[_ngcontent-%COMP%]{max-width:500px;margin:0 auto}.empty-cart[_ngcontent-%COMP%]   .empty-cart-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#e88ca1;margin-bottom:1.5rem}.empty-cart[_ngcontent-%COMP%]   .empty-cart-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem;color:#333;margin-bottom:2rem}"]})};export{B as Cart};
