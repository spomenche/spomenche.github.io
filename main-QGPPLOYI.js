import{a as T,d as j,e as L,g as F,h as z}from"./chunk-RAXCNZ74.js";import{Aa as d,H as l,L as M,La as S,Ma as y,Qa as I,Ra as r,Sa as i,Ta as m,Z as O,Za as k,_ as P,fb as h,g as b,hb as c,jb as w,lb as A,n as x,na as s,nb as E,ob as D,va as _}from"./chunk-HHHBE6IG.js";var H=[{path:"",loadComponent:()=>import("./chunk-YO5UDYL6.js").then(o=>o.Home)},{path:"shop",loadComponent:()=>import("./chunk-CCPICGDU.js").then(o=>o.Shop)},{path:"product/:id",loadComponent:()=>import("./chunk-BCDKUUDK.js").then(o=>o.ProductDetail)},{path:"cart",loadComponent:()=>import("./chunk-5JNZA2NU.js").then(o=>o.Cart)},{path:"checkout",loadComponent:()=>import("./chunk-7OA37FPZ.js").then(o=>o.Checkout)},{path:"**",redirectTo:""}];var N={providers:[O(),z(H)]};var u=class o{setItem(t,e){try{let n=JSON.stringify(e);localStorage.setItem(t,n)}catch(n){console.error("Error saving to localStorage:",n)}}getItem(t){try{let e=localStorage.getItem(t);return e?JSON.parse(e):null}catch(e){return console.error("Error reading from localStorage:",e),null}}removeItem(t){try{localStorage.removeItem(t)}catch(e){console.error("Error removing from localStorage:",e)}}clear(){try{localStorage.clear()}catch(t){console.error("Error clearing localStorage:",t)}}hasItem(t){return localStorage.getItem(t)!==null}static \u0275fac=function(e){return new(e||o)};static \u0275prov=l({token:o,factory:o.\u0275fac,providedIn:"root"})};var R="spomenche_cart",g=class o{constructor(t){this.storageService=t;let n=this.storageService.getItem(R)||this.createEmptyCart();this.cartSubject=new b(n),this.cart$=this.cartSubject.asObservable()}cartSubject;cart$;getCart(){return this.cartSubject.value}addToCart(t,e=1){let n=this.getCart(),a=n.items.findIndex(p=>p.product.id===t.id);if(a>-1)n.items[a].quantity+=e;else{let p={product:t,quantity:e,addedAt:new Date};n.items.push(p)}this.updateCart(n)}removeFromCart(t){let e=this.getCart();e.items=e.items.filter(n=>n.product.id!==t),this.updateCart(e)}updateQuantity(t,e){if(e<=0){this.removeFromCart(t);return}let n=this.getCart(),a=n.items.findIndex(p=>p.product.id===t);a>-1&&(n.items[a].quantity=e,this.updateCart(n))}clearCart(){let t=this.createEmptyCart();this.updateCart(t)}getTotalItems(){return this.getCart().totalItems}getTotalPrice(){return this.getCart().totalPrice}isInCart(t){return this.getCart().items.some(e=>e.product.id===t)}getProductQuantity(t){let e=this.getCart().items.find(n=>n.product.id===t);return e?e.quantity:0}updateCart(t){t.totalItems=t.items.reduce((e,n)=>e+n.quantity,0),t.totalPrice=t.items.reduce((e,n)=>e+n.product.price*n.quantity,0),t.updatedAt=new Date,this.storageService.setItem(R,t),this.cartSubject.next(t)}createEmptyCart(){return{items:[],totalItems:0,totalPrice:0,updatedAt:new Date}}static \u0275fac=function(e){return new(e||o)(M(u))};static \u0275prov=l({token:o,factory:o.\u0275fac,providedIn:"root"})};var Y=()=>({exact:!0});function G(o,t){o&1&&(r(0,"span",12),c(1),i()),o&2&&(s(),w(" ",t," "))}var f=class o{constructor(t){this.cartService=t}cartItemCount$;isMobileMenuOpen=!1;ngOnInit(){this.cartItemCount$=this.cartService.cart$.pipe(x(t=>t.totalItems))}toggleMobileMenu(){this.isMobileMenuOpen=!this.isMobileMenuOpen}static \u0275fac=function(e){return new(e||o)(_(g))};static \u0275cmp=d({type:o,selectors:[["app-header"]],decls:20,vars:9,consts:[[1,"header"],[1,"container"],[1,"header-content"],["routerLink","/",1,"logo"],[1,"mobile-menu-toggle",3,"click"],[1,"hamburger"],[1,"nav"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/shop","routerLinkActive","active"],["routerLink","/cart","routerLinkActive","active",1,"cart-link"],[1,"cart-icon"],[1,"cart-label"],[1,"cart-badge"]],template:function(e,n){if(e&1&&(r(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"h1"),c(5,"Spomenche"),i()(),r(6,"button",4),k("click",function(){return n.toggleMobileMenu()}),m(7,"span",5),i(),r(8,"nav",6)(9,"a",7),c(10," \u041D\u0430\u0447\u0430\u043B\u043E "),i(),r(11,"a",8),c(12," \u041C\u0430\u0433\u0430\u0437\u0438\u043D "),i(),r(13,"a",9)(14,"span",10),c(15,"\u{1F6D2}"),i(),r(16,"span",11),c(17,"\u041A\u043E\u043B\u0438\u0447\u043A\u0430"),i(),S(18,G,2,1,"span",12),E(19,"async"),i()()()()()),e&2){let a;s(7),h("active",n.isMobileMenuOpen),s(),h("mobile-open",n.isMobileMenuOpen),s(),I("routerLinkActiveOptions",A(8,Y)),s(9),y((a=D(19,6,n.cartItemCount$))?18:-1,a)}},dependencies:[F,T],styles:['.header[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 2px 4px #0000000d;position:sticky;top:0;z-index:1020}.container[_ngcontent-%COMP%]{max-width:1280px;margin:0 auto;padding:0 1rem}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 0}.logo[_ngcontent-%COMP%]{text-decoration:none}.logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Pacifico,cursive;font-size:2rem;margin:0;color:#e88ca1;transition:color .3s ease}.logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:hover{color:#d4af37}.nav[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:1rem;font-weight:600;color:#333;text-decoration:none;transition:color .3s ease;padding:.25rem 0;position:relative}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#e88ca1}.nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-4px;left:0;right:0;height:2px;background-color:#d4af37}.cart-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;position:relative}.cart-icon[_ngcontent-%COMP%]{font-size:1.125rem}.cart-badge[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-12px;background-color:#d4af37;color:#fff;font-size:.75rem;font-weight:600;padding:2px 6px;border-radius:9999px;min-width:20px;text-align:center}.mobile-menu-toggle[_ngcontent-%COMP%]{display:none;background:none;border:none;cursor:pointer;padding:.25rem}@media(max-width:768px){.mobile-menu-toggle[_ngcontent-%COMP%]{display:block}}.hamburger[_ngcontent-%COMP%]{display:block;width:24px;height:2px;background-color:#333;position:relative;transition:background-color .3s ease}.hamburger[_ngcontent-%COMP%]:before, .hamburger[_ngcontent-%COMP%]:after{content:"";position:absolute;width:24px;height:2px;background-color:#333;transition:all .3s ease}.hamburger[_ngcontent-%COMP%]:before{top:-8px}.hamburger[_ngcontent-%COMP%]:after{bottom:-8px}.hamburger.active[_ngcontent-%COMP%]{background-color:transparent}.hamburger.active[_ngcontent-%COMP%]:before{top:0;transform:rotate(45deg)}.hamburger.active[_ngcontent-%COMP%]:after{bottom:0;transform:rotate(-45deg)}@media(max-width:768px){.nav[_ngcontent-%COMP%]{position:fixed;top:70px;left:0;right:0;background-color:#fff;flex-direction:column;gap:0;padding:1rem;box-shadow:0 4px 8px #00000014;transform:translateY(-100%);opacity:0;transition:all .3s ease;pointer-events:none}.nav.mobile-open[_ngcontent-%COMP%]{transform:translateY(0);opacity:1;pointer-events:all}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;padding:1rem;border-bottom:1px solid rgba(0,0,0,.1)}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{border-bottom:none}.cart-badge[_ngcontent-%COMP%]{right:auto;left:100%;margin-left:.25rem}}']})};var C=class o{title=P("spomenche-app");static \u0275fac=function(e){return new(e||o)};static \u0275cmp=d({type:o,selectors:[["app-root"]],decls:8,vars:0,consts:[[1,"app-container"],[1,"main-content"],[1,"footer"],[1,"container"]],template:function(e,n){e&1&&(r(0,"div",0),m(1,"app-header"),r(2,"main",1),m(3,"router-outlet"),i(),r(4,"footer",2)(5,"div",3)(6,"p"),c(7,"\xA9 2026 Spomenche. \u0412\u0441\u0438\u0447\u043A\u0438 \u043F\u0440\u0430\u0432\u0430 \u0437\u0430\u043F\u0430\u0437\u0435\u043D\u0438."),i()()()())},dependencies:[L,f],styles:[".app-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;background-color:#fff5e9}.main-content[_ngcontent-%COMP%]{flex:1;padding:2rem 0}.footer[_ngcontent-%COMP%]{background-color:#fff;padding:2rem 0;margin-top:4rem;box-shadow:0 -2px 8px #0000000d}.footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:1280px;margin:0 auto;padding:0 1rem;text-align:center}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:.875rem}"]})};j(C,N).catch(o=>console.error(o));
