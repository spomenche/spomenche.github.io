import{a as $}from"./chunk-KOD44OUP.js";import{a as B}from"./chunk-DH2ENB4Y.js";import"./chunk-GJIZZP5K.js";import{a as V}from"./chunk-QVDV6SPZ.js";import{A as c,C,Ca as D,D as S,I as d,K as s,M as x,N as v,O as f,P as u,Q as n,R as h,U as g,W as _,Y as l,ba as r,ca as b,d as P,da as E,ha as M,la as O,ma as w,p,q as m,sa as A,ua as F,wa as k,ya as T}from"./chunk-KYFI25ET.js";var I=(e,i)=>i.id;function R(e,i){if(e&1){let t=g();u(0,"app-custom-button",5),_("clicked",function(){let a=p(t).$implicit,y=l();return m(y.onCategorySelect(a.id))}),r(1),n()}if(e&2){let t=i.$implicit,o=l();f("variant",o.selectedCategory===t.id?"primary":"secondary"),c(),E(" ",t.name," ")}}function z(e,i){if(e&1){let t=g();u(0,"div",7)(1,"p"),r(2," \u041F\u043E\u043A\u0430\u0437\u0432\u0430\u043D\u0435 \u043D\u0430 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0438 \u043E\u0442 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F: "),u(3,"strong"),r(4),n()(),u(5,"app-custom-button",12),_("clicked",function(){p(t);let a=l();return m(a.onCategorySelect(null))}),r(6," \u0418\u0437\u0447\u0438\u0441\u0442\u0438 \u0444\u0438\u043B\u0442\u044A\u0440\u0430 "),n()()}if(e&2){let t=l();c(4),b(t.getCategoryName(t.selectedCategory))}}function N(e,i){e&1&&h(0,"div",9)}function q(e,i){if(e&1&&h(0,"app-product-card",13),e&2){let t=i.$implicit;f("product",t)}}function L(e,i){if(e&1&&(u(0,"div",10),x(1,q,1,1,"app-product-card",13,I),n()),e&2){let t=l();c(),v(t.products)}}function G(e,i){if(e&1){let t=g();u(0,"h3"),r(1,"\u041D\u044F\u043C\u0430 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0438 \u0432 \u0442\u0430\u0437\u0438 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F"),n(),u(2,"p"),r(3,"\u041E\u043F\u0438\u0442\u0430\u0439\u0442\u0435 \u0434\u0430 \u0438\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u0434\u0440\u0443\u0433\u0430 \u043A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F \u0438\u043B\u0438 \u0432\u0438\u0436\u0442\u0435 \u0432\u0441\u0438\u0447\u043A\u0438 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0438."),n(),u(4,"app-custom-button",14),_("clicked",function(){p(t);let a=l(2);return m(a.onCategorySelect(null))}),r(5," \u0412\u0438\u0436 \u0432\u0441\u0438\u0447\u043A\u0438 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0438 "),n()}}function H(e,i){e&1&&(u(0,"h3"),r(1,"\u041D\u044F\u043C\u0430 \u043D\u0430\u043B\u0438\u0447\u043D\u0438 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0438"),n(),u(2,"p"),r(3,"\u0421\u043A\u043E\u0440\u043E \u0449\u0435 \u0434\u043E\u0431\u0430\u0432\u0438\u043C \u043D\u043E\u0432\u0438 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0438 \u0432 \u043C\u0430\u0433\u0430\u0437\u0438\u043D\u0430."),n())}function J(e,i){if(e&1&&(u(0,"div",11),d(1,G,6,0)(2,H,4,0),n()),e&2){let t=l();c(),s(t.selectedCategory?1:2)}}var j=class e{constructor(i,t,o){this.productsService=i;this.route=t;this.router=o}products=[];categories=[];loading$=new P(!0);selectedCategory=null;ngOnInit(){this.loadCategories(),this.route.queryParams.subscribe(i=>{this.selectedCategory=i.category||null,this.loadProducts()})}loadProducts(){this.loading$.next(!0),(this.selectedCategory?this.productsService.getProductsByCategory(this.selectedCategory):this.productsService.getAllProducts()).subscribe({next:t=>{this.products=t,this.loading$.next(!1)},error:t=>{console.error("Error loading products:",t),this.loading$.next(!1)}})}loadCategories(){this.categories=this.productsService.getCategories()}onCategorySelect(i){i?this.router.navigate(["/shop"],{queryParams:{category:i}}):this.router.navigate(["/shop"])}getCategoryName(i){return this.categories.find(o=>o.id===i)?.name||i}static \u0275fac=function(t){return new(t||e)(C(B),C(k),C(T))};static \u0275cmp=S({type:e,selectors:[["app-shop"]],decls:18,vars:7,consts:[[1,"shop"],[1,"categories-filter"],[1,"container"],[1,"page-title"],[1,"filter-buttons"],["size","medium",3,"clicked","variant"],["size","medium",3,"variant"],[1,"current-filter"],[1,"products-section"],[1,"loading"],[1,"products-grid"],[1,"empty-state"],["variant","outline","size","small",3,"clicked"],[3,"product"],["variant","primary",3,"clicked"]],template:function(t,o){if(t&1){let a=g();u(0,"div",0)(1,"section",1)(2,"div",2)(3,"h1",3),r(4,"\u041C\u0430\u0433\u0430\u0437\u0438\u043D"),n(),u(5,"div",4)(6,"app-custom-button",5),_("clicked",function(){return p(a),m(o.onCategorySelect(null))}),r(7," \u0412\u0441\u0438\u0447\u043A\u0438 \u043F\u0440\u043E\u0434\u0443\u043A\u0442\u0438 "),n(),x(8,R,2,2,"app-custom-button",6,I),n(),d(10,z,7,1,"div",7),n()(),u(11,"section",8)(12,"div",2),M(13),O(14,"async"),d(15,N,1,0,"div",9),d(16,L,3,0,"div",10),d(17,J,3,1,"div",11),n()()()}if(t&2){c(6),f("variant",o.selectedCategory?"secondary":"primary"),c(2),v(o.categories),c(2),s(o.selectedCategory?10:-1);let a=w(14,5,o.loading$);c(5),s(a?15:-1),c(),s(!a&&o.products.length>0?16:-1),c(),s(!a&&o.products.length===0?17:-1)}},dependencies:[F,D,$,V,A],styles:[".shop[_ngcontent-%COMP%]{width:100%;padding:2rem 0}.categories-filter[_ngcontent-%COMP%]{margin-bottom:4rem;background-color:#fff5e9;padding:3rem 0}.categories-filter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.page-title[_ngcontent-%COMP%]{font-family:Pacifico,cursive;font-size:2.5rem;color:#e88ca1;text-align:center;margin-bottom:1.5rem}@media(max-width:768px){.page-title[_ngcontent-%COMP%]{font-size:2rem}}.filter-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;justify-content:center}@media(max-width:480px){.filter-buttons[_ngcontent-%COMP%]{justify-content:flex-start;overflow-x:auto;padding-bottom:.5rem}.filter-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex-shrink:0}}.current-filter[_ngcontent-%COMP%]{text-align:center;padding:1.5rem;background-color:#fff;border-radius:16px;box-shadow:0 2px 4px #0000000d}.current-filter[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;color:#333}.current-filter[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#e88ca1}.products-section[_ngcontent-%COMP%]{margin-bottom:4rem}.products-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:2rem}@media(max-width:768px){.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1.5rem}}@media(max-width:480px){.products-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 0}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#e88ca1;margin-bottom:1.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem;color:#333;margin-bottom:2rem}.loading[_ngcontent-%COMP%]{text-align:center;padding:4rem 0}"]})};export{j as Shop};
