import{a as j}from"./chunk-UKJIN2PR.js";import"./chunk-GJIZZP5K.js";import{a as L}from"./chunk-AMXR322S.js";import{a as F}from"./chunk-OERMI5KI.js";import{$ as d,A as O,Ca as z,D as i,F as g,Fa as B,G as h,L as u,N as a,R as m,S as o,T as n,U as _,X as y,Z as D,ca as E,d as v,ea as c,fa as s,ga as C,ka as S,ma as f,oa as P,p as x,pa as b,q as M,qa as k,va as A,wa as I,xa as w,za as T}from"./chunk-UFBWADC4.js";var R=()=>["/shop"];function N(e,r){e&1&&(o(0,"div",1),_(1,"div",3),n())}function V(e,r){if(e&1&&_(0,"img",6),e&2){let t=d(2);m("src",t.product.images[0],O)("alt",t.product.name)}}function U(e,r){e&1&&(o(0,"div",7)(1,"p"),c(2,"\u041D\u044F\u043C\u0430 \u043D\u0430\u043B\u0438\u0447\u043D\u0430 \u0441\u043D\u0438\u043C\u043A\u0430"),n()())}function q(e,r){if(e&1&&(o(0,"h2",10),c(1),n()),e&2){let t=d(2);i(),s(t.product.nameEn)}}function G(e,r){if(e&1&&(o(0,"p",14),c(1),n()),e&2){let t=d(2);i(),s(t.product.descriptionEn)}}function H(e,r){e&1&&c(0," \u2713 \u0412 \u043D\u0430\u043B\u0438\u0447\u043D\u043E\u0441\u0442 ")}function J(e,r){e&1&&c(0," \u2717 \u0418\u0437\u0447\u0435\u0440\u043F\u0430\u043D ")}function K(e,r){if(e&1){let t=y();o(0,"section",2)(1,"div",1)(2,"div",4)(3,"div",5),u(4,V,1,2,"img",6)(5,U,3,0,"div",7),n(),o(6,"div",8)(7,"h1",9),c(8),n(),u(9,q,2,1,"h2",10),o(10,"div",11)(11,"span",12),c(12),P(13,"number"),n()(),o(14,"div",13)(15,"p"),c(16),n(),u(17,G,2,1,"p",14),n(),o(18,"div",15)(19,"p",16)(20,"strong"),c(21,"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F:"),n(),c(22),n(),o(23,"p",17),u(24,H,1,0)(25,J,1,0),n()(),o(26,"div",18)(27,"app-custom-button",19),D("clicked",function(){x(t);let l=d();return M(l.addToCart())}),c(28," \u0414\u043E\u0431\u0430\u0432\u0438 \u0432 \u043A\u043E\u0448\u043D\u0438\u0446\u0430\u0442\u0430 "),n(),o(29,"app-custom-button",20),c(30," \u041E\u0431\u0440\u0430\u0442\u043D\u043E \u043A\u044A\u043C \u043C\u0430\u0433\u0430\u0437\u0438\u043D\u0430 "),n()()()()()()}if(e&2){let t=d();i(4),a(t.product.images.length>0?4:5),i(4),s(t.product.name),i(),a(t.product.nameEn?9:-1),i(3),C("",k(13,14,t.product.price,"1.2-2")," \u043B\u0432"),i(4),s(t.product.description),i(),a(t.product.descriptionEn?17:-1),i(5),C(" ",t.categoryName),i(),E("in-stock",t.product.inStock)("out-of-stock",!t.product.inStock),i(),a(t.product.inStock?24:25),i(3),m("disabled",!t.product.inStock),i(2),m("routerLink",f(17,R))}}function Q(e,r){e&1&&(o(0,"div",1)(1,"div",21)(2,"h2"),c(3,"\u041F\u0440\u043E\u0434\u0443\u043A\u0442\u044A\u0442 \u043D\u0435 \u0435 \u043D\u0430\u043C\u0435\u0440\u0435\u043D"),n(),o(4,"p"),c(5,"\u041F\u0440\u043E\u0434\u0443\u043A\u0442\u044A\u0442, \u043A\u043E\u0439\u0442\u043E \u0442\u044A\u0440\u0441\u0438\u0442\u0435, \u043D\u0435 \u0441\u044A\u0449\u0435\u0441\u0442\u0432\u0443\u0432\u0430 \u0438\u043B\u0438 \u0435 \u043F\u0440\u0435\u043C\u0430\u0445\u043D\u0430\u0442."),n(),o(6,"app-custom-button",22),c(7," \u041A\u044A\u043C \u043C\u0430\u0433\u0430\u0437\u0438\u043D\u0430 "),n()()()),e&2&&(i(6),m("routerLink",f(1,R)))}var $=class e{constructor(r,t,p){this.route=r;this.productsService=t;this.cartService=p}product=null;loading$=new v(!0);ngOnInit(){this.loadProduct()}loadProduct(){this.loading$.next(!0);let r=this.route.snapshot.paramMap.get("id");r?this.productsService.getProductById(r).subscribe({next:t=>{this.product=t||null,this.loading$.next(!1)},error:t=>{console.error("Error loading product:",t),this.loading$.next(!1)}}):this.loading$.next(!1)}get categoryName(){return this.product?this.productsService.getCategoryInfo(this.product.category)?.name||this.product.category:""}addToCart(){this.product&&this.cartService.addToCart(this.product)}static \u0275fac=function(t){return new(t||e)(g(T),g(j),g(L))};static \u0275cmp=h({type:e,selectors:[["app-product-detail"]],decls:6,vars:5,consts:[[1,"product-detail"],[1,"container"],[1,"product-section"],[1,"loading"],[1,"product-grid"],[1,"product-images"],[1,"main-image",3,"src","alt"],[1,"no-image"],[1,"product-info"],[1,"product-title"],[1,"product-subtitle"],[1,"product-price"],[1,"price"],[1,"product-description"],[1,"description-en"],[1,"product-meta"],[1,"category"],[1,"stock"],[1,"actions"],["variant","primary","size","large",3,"clicked","disabled"],["variant","secondary",3,"routerLink"],[1,"empty-state"],["variant","primary",3,"routerLink"]],template:function(t,p){if(t&1&&(o(0,"div",0),S(1),P(2,"async"),u(3,N,2,0,"div",1),u(4,K,31,18,"section",2),u(5,Q,8,2,"div",1),n()),t&2){let l=b(2,3,p.loading$);i(3),a(l?3:-1),i(),a(!l&&p.product?4:-1),i(),a(!l&&!p.product?5:-1)}},dependencies:[w,B,z,F,A,I],styles:[".product-detail[_ngcontent-%COMP%]{width:100%;padding:2rem 0}.product-section[_ngcontent-%COMP%]{margin-bottom:4rem}.product-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:4rem;align-items:start}@media(max-width:768px){.product-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:2rem}}.product-images[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{width:85%;height:auto;border-radius:16px;box-shadow:0 4px 8px #00000014}.product-images[_ngcontent-%COMP%]   .no-image[_ngcontent-%COMP%]{width:100%;height:400px;background-color:#fff5e9;border-radius:16px;display:flex;align-items:center;justify-content:center;color:#666;font-size:1.125rem}.product-info[_ngcontent-%COMP%]   .product-title[_ngcontent-%COMP%]{font-family:Pacifico,cursive;font-size:2.5rem;color:#e88ca1;margin-bottom:.5rem}@media(max-width:768px){.product-info[_ngcontent-%COMP%]   .product-title[_ngcontent-%COMP%]{font-size:2rem}}.product-info[_ngcontent-%COMP%]   .product-subtitle[_ngcontent-%COMP%]{font-size:1.125rem;color:#666;margin-bottom:1.5rem;font-style:italic}.product-info[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{margin-bottom:2rem}.product-info[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#e88ca1}.product-info[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]{margin-bottom:2rem}.product-info[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;line-height:1.6;color:#333;margin-bottom:1rem}.product-info[_ngcontent-%COMP%]   .product-description[_ngcontent-%COMP%]   .description-en[_ngcontent-%COMP%]{font-style:italic;color:#666}.product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]{margin-bottom:2rem}.product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:.5rem;color:#333}.product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#e88ca1}.product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]   .stock[_ngcontent-%COMP%]{font-weight:700}.product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]   .stock.in-stock[_ngcontent-%COMP%]{color:#27ae60}.product-info[_ngcontent-%COMP%]   .product-meta[_ngcontent-%COMP%]   .stock.out-of-stock[_ngcontent-%COMP%]{color:#e74c3c}.product-info[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}@media(max-width:480px){.product-info[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 0}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#e88ca1;margin-bottom:1.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem;color:#333;margin-bottom:2rem}.loading[_ngcontent-%COMP%]{text-align:center;padding:4rem 0}"]})};export{$ as ProductDetail};
